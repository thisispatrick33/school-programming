class Zenit19kke {
    public static void main(String[] args){
        System.out.println("class Zenit19kkd {\n" +
                "    public static void main(String[] args){\n" +
                "        System.out.println(\"import java.io.BufferedReader;\\n\" +\n" +
                "                \"import java.io.IOException;\\n\" +\n" +
                "                \"import java.io.InputStreamReader;\\n\" +\n" +
                "                \"import java.util.ArrayList;\\n\" +\n" +
                "                \"\\n\" +\n" +
                "                \"class Zenit19kkc {\\n\" +\n" +
                "                \"    public static void main(String[] args) throws IOException {\\n\" +\n" +
                "                \"        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\\n\" +\n" +
                "                \"        int k = Integer.parseInt(reader.readLine());\\n\" +\n" +
                "                \"        String s = reader.readLine();\\n\" +\n" +
                "                \"        ArrayList<String> linkedlist = new ArrayList<>();\\n\" +\n" +
                "                \"        for (int i = 0; i < Math.pow(2, k); i++){\\n\" +\n" +
                "                \"            linkedlist.add(reader.readLine());\\n\" +\n" +
                "                \"        }\\n\" +\n" +
                "                \"        for (int i = 0; i < s.length()/k; i++){\\n\" +\n" +
                "                \"            System.out.print(linkedlist.indexOf(s.substring(i*k, i*k+k)));\\n\" +\n" +
                "                \"        }\\n\" +\n" +
                "                \"        System.out.println();\\n\" +\n" +
                "                \"    }\\n\" +\n" +
                "                \"}\\n\");\n" +
                "    }\n" +
                "}\n");
    }
}
